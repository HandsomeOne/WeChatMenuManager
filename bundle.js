!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=18)}([function(e,t){e.exports=React},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=f[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(u(r.parts[i],t))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(u(r.parts[i],t));f[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],i=o[0],a=o[1],s=o[2],u=o[3],l={css:a,media:s,sourceMap:u};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function o(e,t){var n=d(),r=y[y.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function u(e,t){var n,r,o;if(t.singleton){var u=v++;n=m||(m=a(t)),r=l.bind(null,n,u,!1),o=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=p.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=c.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function c(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},b=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,y=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=b()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var o=r(e);return n(o,t),function(e){for(var i=[],a=0;a<o.length;a++){var s=o[a],u=f[s.id];u.refs--,i.push(u)}if(e){var l=r(e);n(l,t)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete f[u.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=(n.n(r),n(17)),i=(n.n(o),n(5));o.render(r.createElement(i.a,null),document.getElementById("root"))},function(e,t,n){e.exports=n.p+"index.html"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=(n.n(a),n(13)),u=n.n(s),l=n(7),c=n(6),p=n(8),f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=location.hash.slice(1),i="",a="";try{var s=JSON.parse(atob(n)),u=f(s,2);i=u[0],a=u[1]}catch(e){}return e.state={buttons:[],path:[],mode:"update",getURL:i,createURL:a},e.setPath=e.setPath.bind(e),e.setButtons=e.setButtons.bind(e),e.setMode=e.setMode.bind(e),e.setGetURL=e.setGetURL.bind(e),e.setCreateURL=e.setCreateURL.bind(e),e.save=e.save.bind(e),e}return i(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this;this.state.getURL&&!this.state.buttons.length&&fetch(this.state.getURL).then(function(e){return e.json()}).then(function(t){e.setState({buttons:t.menu.button})})}},{key:"setPath",value:function(e){this.setState({path:e})}},{key:"setButtons",value:function(e){this.setState({buttons:e})}},{key:"setMode",value:function(e){this.setState({mode:e})}},{key:"setGetURL",value:function(e){this.setState({getURL:e})}},{key:"setCreateURL",value:function(e){this.setState({createURL:e})}},{key:"save",value:function(){var e=JSON.stringify({button:this.state.buttons},null,2);console.log(e)}},{key:"render",value:function(){return this.state.getURL?a.createElement("div",null,a.createElement("div",{className:u.a.container},a.createElement("div",{className:u.a.phone},a.createElement(l.a,{buttons:this.state.buttons,setPath:this.setPath,setButtons:this.setButtons,setMode:this.setMode})),a.createElement("div",{className:u.a.panel},a.createElement(c.a,{buttons:this.state.buttons,path:this.state.path,mode:this.state.mode,setPath:this.setPath,setButtons:this.setButtons}))),a.createElement("button",{className:u.a.save,onClick:this.save},"保存")):a.createElement(p.a,{setButtons:this.setButtons,setGetURL:this.setGetURL,setCreateURL:this.setCreateURL})}}]),t}(a.PureComponent);t.a=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=(n.n(a),n(14)),u=n.n(s),l=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.remove=n.remove.bind(n),n.update=n.update.bind(n),n.add=n.add.bind(n),n}return i(t,e),c(t,[{key:"remove",value:function(){var e=this.props,t=e.buttons,n=e.path,r=l(n,2),o=r[0],i=r[1],a=[];1===n.length?a=t.filter(function(e,t){return t!==o}):2===n.length&&(a=t.slice(),a[o].sub_button=a[o].sub_button.filter(function(e,t){return t!==i})),this.props.setButtons(a),this.props.setPath([])}},{key:"update",value:function(){if("add"===this.props.mode)return this.add();if(this.name.value&&this.url.value){var e=this.props,t=e.buttons,n=e.path,r=l(n,2),o=r[0],i=r[1],a=t.slice();if(1===n.length)a[o].name=this.name.value;else if(2===n.length){var s=a[o].sub_button[i];s.name=this.name.value,s.url=this.url.value}this.props.setButtons(a),this.props.setPath([])}}},{key:"add",value:function(){if(this.name.value){var e=this.props,t=e.buttons,n=e.path,r=l(n,2),o=r[0],i=r[1],a=t.slice();1===n.length?a.splice(o,0,{name:this.name.value,sub_button:[]}):2===n.length&&a[o].sub_button.splice(i,0,{type:"view",name:this.name.value,url:this.url.value,sub_button:[]}),this.props.setButtons(a),this.props.setPath([])}}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttons,r=t.path,o=t.mode,i=l(r,2),s=i[0],c=i[1],p="add"===o,f=a.createElement("div",null,p||a.createElement("button",{onClick:this.remove},"删除"),a.createElement("button",{type:"submit",onClick:this.update},"保存"));switch(r.length){case 1:return a.createElement("form",{className:u.a.editor},a.createElement("label",null,"名称",a.createElement("input",{key:o+r.join(","),ref:function(t){e.name=t},required:!0,defaultValue:p?"":n[s].name})),f);case 2:return a.createElement("form",{className:u.a.editor},a.createElement("label",null,"名称",a.createElement("input",{key:o+r.join(","),ref:function(t){e.name=t},required:!0,defaultValue:p?"":n[s].sub_button[c].name})),a.createElement("label",null,"URL",a.createElement("input",{key:o+r.join(","),ref:function(t){e.url=t},required:!0,defaultValue:p?"":n[s].sub_button[c].url})),f);default:return null}}}]),t}(a.PureComponent);t.a=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=(n.n(a),n(15)),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this;return a.createElement("ul",{className:u.a.menu},this.props.buttons.map(function(t,n){return a.createElement("li",null,a.createElement("ul",{className:u.a.subMenu},t.sub_button.map(function(t,r){return a.createElement("li",{onClick:function(){e.props.setMode("update"),e.props.setPath([n,r])}},t.name)}),t.sub_button.length<5&&a.createElement("li",{onClick:function(){e.props.setMode("add"),e.props.setPath([n,t.sub_button.length])}},"+")),a.createElement("div",{onClick:function(){e.props.setMode("update"),e.props.setPath([n])}},a.createElement("b",null,t.name)))}),this.props.buttons.length<3&&a.createElement("li",{onClick:function(){e.props.setMode("add"),e.props.setPath([e.props.buttons.length])}},a.createElement("b",null,"+")))}}]),t}(a.PureComponent);t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=(n.n(a),n(16)),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.check=e.check.bind(e),e}return i(t,e),l(t,[{key:"check",value:function(){var e=this;this.getURL.value&&this.createURL.value&&fetch(this.getURL.value).then(function(t){return t.json().then(function(t){if(!("menu"in t&&"button"in t.menu))throw new Error("数据格式不正确");location.hash=btoa(JSON.stringify([e.getURL.value,e.createURL.value])),e.props.setButtons(t),e.props.setGetURL(e.getURL.value),e.props.setCreateURL(e.createURL.value)})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:u.a.settings},a.createElement("label",null,"用于获取菜单的 URL",a.createElement("input",{type:"url",required:!0,ref:function(t){e.getURL=t}})),a.createElement("label",null,"用于创建菜单的 URL",a.createElement("input",{type:"url",required:!0,ref:function(t){e.createURL=t}})),a.createElement("button",{onClick:this.check},"确认"))}}]),t}(a.PureComponent);t.a=c},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,"body{margin:0;color:#333}.container___2O0vq{width:720px;margin:80px auto 0;height:560px;display:-webkit-box;display:-ms-flexbox;display:flex}.phone___1IRxz{box-shadow:0 3px 6px rgba(0,0,0,.5);border-radius:6px;width:320px;position:relative}.panel___2AoIb{-webkit-box-flex:1;-ms-flex:1;flex:1}.save___2eQlb{display:block;margin:40px auto}",""]),t.locals={container:"container___2O0vq",phone:"phone___1IRxz",panel:"panel___2AoIb",save:"save___2eQlb"}},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,".editor___FDnpL{padding:40px}.editor___FDnpL label{display:block}.editor___FDnpL input{display:block;border:0;border-bottom:2px solid #ccc;margin-bottom:24px;width:100%}",""]),t.locals={editor:"editor___FDnpL"}},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,".menu___aA3-t{margin:0;padding:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;border-top:1px solid #eee;position:absolute;bottom:0}.menu___aA3-t>li{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;border-right:1px solid #eee;list-style:none;position:relative}.menu___aA3-t>li b{font-weight:400;line-height:30px}.menu___aA3-t>li:last-child{border-right:0}.subMenu___2tTKT{margin:0;padding:0;position:absolute;width:100%;left:0;bottom:40px}.subMenu___2tTKT>li{list-style:none}",""]),t.locals={menu:"menu___aA3-t",subMenu:"subMenu___2tTKT"}},function(e,t,n){t=e.exports=n(1)(),t.push([e.i,".settings___362yd{width:720px;margin:80px auto 0}.settings___362yd label{display:block}.settings___362yd input{display:block;border:0;border-bottom:2px solid #ccc;margin-bottom:24px;width:100%}",""]),t.locals={settings:"settings___362yd"}},function(e,t,n){var r=n(9);"string"==typeof r&&(r=[[e.i,r,""]]);n(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(10);"string"==typeof r&&(r=[[e.i,r,""]]);n(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(11);"string"==typeof r&&(r=[[e.i,r,""]]);n(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]);n(2)(r,{});r.locals&&(e.exports=r.locals)},function(e,t){e.exports=ReactDOM},function(e,t,n){n(4),e.exports=n(3)}]);